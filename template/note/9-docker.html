
		<article class="blog-post px-3 py-5 p-md-5">
                <div class="container">
                    <header class="blog-post-header">
                        <!-- 标题 -->
                        <h2 class="title mb-2">Docker</h2>
                        <!-- 时间 -->
                        <div class="meta mb-3"><span class="date">Updated: Oct 16th, 2019</span></div>
                    </header>
                    
                    <div class="blog-post-body">
                        <!-- 图片及描述 -->
                        <!-- <figure class="blog-banner">
                            <a href="#"><img class="img-fluid" src="assets/images/blog/blog-post-banner.jpg" alt="image"></a>
                            <figcaption class="mt-2 text-center image-caption">Image Credit: <a href="#?ref=devblog" target="_blank">made4dev.com (Premium Programming T-shirts)</a></figcaption>
                        </figure> -->

                        <!-- 摘要 -->
                        <p>
                            Docker 是一个开源的应用容器引擎，让开发者可以打包他们的应用以及依赖包到一个可移植的镜像中，然后发布到任何流行的 Linux或Windows 机器上，也可以实现虚拟化。容器是完全使用沙箱机制，相互之间不会有任何接口。
                        </p>
                        
                        <h3 class="mt-5 mb-3">Install</h3>
                        <p>
                            <pre><code>
# Ubuntu                                
curl -fsSL https://get.docker.com -o get-docker.sh
sudo sh get-docker.sh

# 建立docker组
sudo groupadd docker
# 将当前用户加入docker组
sudo usermod -aG docker $USER

# 卸载本机所有的镜像、容器、卷以及配置文件
sudo rm -rf /var/lib/docker
                            </code></pre>
                        </p>

                        <h3 class="mt-5 mb-3">基本命令</h3>
                        <p>
                            <h5>获取镜像</h5>
                            <pre><code>
docker pull [user name]/[repo name]:[tag name]
                            </code></pre>
                            <h5>Dockerfile example</h5>
                            <pre><code>
# Dockerfile创建镜像
FROM ubuntu:18.04
ENV LANG C.UTF-8
RUN echo "deb http://mirrors.zju.edu.cn/ubuntu bionic main universe restricted multiverse\ndeb http://mirrors.zju.edu.cn/ubuntu bionic-security main universe restricted multiverse\ndeb http://mirrors.zju.edu.cn/ubuntu bionic-updates main universe restricted multiverse\ndeb http://mirrors.zju.edu.cn/ubuntu bionic-backports main universe restricted multiverse\ndeb-src http://mirrors.zju.edu.cn/ubuntu bionic main universe restricted multiverse\ndeb-src http://mirrors.zju.edu.cn/ubuntu bionic-security main universe restricted multiverse\ndeb-src http://mirrors.zju.edu.cn/ubuntu bionic-updates main universe restricted multiverse\ndeb-src http://mirrors.zju.edu.cn/ubuntu bionic-backports main universe restricted multiverse" > /etc/apt/sources.list
# RUN ...
# for pip 
# RUN echo "[global]\nindex-url = http://mirrors.aliyun.com/pypi/simple/\n[install]\ntrusted-host = mirrors.aliyun.com" > ~/.pip/pip.conf
# for conda
# RUN echo "channels:\n  - https://mirrors.ustc.edu.cn/anaconda/pkgs/main/\n  - https://mirrors.ustc.edu.cn/anaconda/cloud/conda-forge/\n  - https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/free/\n  - defaults\nshow_channel_urls: true" > ~/.condarc
                            </code></pre>

                            <h5>运行容器</h5>
                            <pre><code>
docker run [OPTIONS] IMAGE [COMMAND] [ARG...]
                            </code></pre>
-i: 以交互模式运行容器，通常与 -t 同时使用</br>
-t: 为容器重新分配一个伪输入终端，通常与 -i 同时使用</br>
-v: 绑定一个卷，格式为：本机绑定目录:容器内部绑定目录</br>
-d: 后台运行容器，并返回容器ID</br>
-P: 随机端口映射，容器内部端口随机映射到主机的高端口</br>
-p: 指定端口映射，格式为：主机(宿主)端口:容器端口</br>
-a stdin: 指定标准输入输出内容类型，可选 STDIN/STDOUT/STDERR 三项</br>
--name: 对所新建容器进行命名</br>
--rm: 容器终止后，自动删除容器文件</br>
</br>
                            <h5>常用命令</h5>
                            <pre><code>
# 列出容器
docker container ls -a 
# 查看容器ID
docker ps -a
# 重新启动已被终止的指定容器
docker start [CONTAINER ID]

# 终止容器
docker stop [CONTAINER NAME/ID]
# 若是利用 -it 在容器内部进行操作，仅需输入 exit 即可

# 删除容器
docker kill [CONTAINER NAME/ID]
# 若想将所有容器删除
docker container prune

# 列出镜像
docker images
# 重命名镜像
docker tag [old REPOSITORY]:[old TAG] or [IMAGE ID] [new REPOSITORY]:[new TAG]
# 删除镜像
docker rmi [IMAGE]

# 存出镜像
docker save -o [xx.tar] [REPOSITORY]:[TAG]

# 载入镜像
sudo docker load --input [镜像文件]

# 更新镜像
docker commit [OPTIONS] [IMAGE ID] [new REPOSITORY]:[new TAG]
# -m: 提交的描述信息
# -a: 指定镜像作者
                            </code></pre>

  
                        <h3 class="mt-5 mb-3">More</h3>
                        <p>
                            See detail in these websites.
                            </br>
                            <a href='https://www.runoob.com/docker/docker-container-usage.html' target="_blank">Docker教程</a></br>
                            <a href='https://wiki.jikexueyuan.com/project/docker-technology-and-combat/save_load.html' target="_blank">Docker学习笔记</a>
                        </p>
                      
                    </div>

                    <!-- 翻页 -->
                    <nav class="blog-nav nav nav-justified my-5">
                      <a class="nav-link-prev nav-item nav-link rounded-left" href="8-java.html">Previous<i class="arrow-prev fas fa-long-arrow-alt-left"></i></a>
                      <a class="nav-link-next nav-item nav-link rounded-right" href="10-kali.html">Next<i class="arrow-next fas fa-long-arrow-alt-right"></i></a>
                    </nav>
                    
                    <div class="blog-comments-section">
                        <div id="disqus_thread"></div>
                        <script>					    
                            (function() {  // REQUIRED CONFIGURATION VARIABLE: EDIT THE SHORTNAME BELOW
                                var d = document, s = d.createElement('script');					        
                                // IMPORTANT: Replace 3wmthemes with your forum shortname!
                                s.src = '';					        
                                s.setAttribute('data-timestamp', +new Date());
                                (d.head || d.body).appendChild(s);
                            })();
                        </script>
    
                        <noscript>
                            Please enable JavaScript to view the 
                            <a href="https://disqus.com/?ref_noscript" rel="nofollow">
                                comments powered by Disqus.
                            </a>
                        </noscript>
                    </div><!--//blog-comments-section-->
                    
                </div><!--//container-->
            </article>
            
    
    
    
    
    
    



